(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{410:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(2);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object(c.m)(t)?t:t.type,n=l({},e);switch(a){case"setView":var r=t.view;"myAccount"==r?(n.view=r,n.displayedBooks=n.completedOrders):(n.view=n.sections[n.selectedSectionIndex].view,n.displayedBooks="orders"==r?n.pendingOrders:[]);break;case"selectSection":n.selectedSectionIndex=t.sectionIndex;break;case"selectCategory":var o=t.categoryIndex;n.selectedCategoryIndex=o,n.displayedBooks=[],n.books.forEach((function(e){if(e.categories.includes(o)){var t=l({},e);t.color=n.categories[o].color[1],n.displayedBooks.push(t)}}));break;case"manageOrders":var s=t.bookIndex,i=n.displayedBooks[s],d=(n.pendingOrders[s],n.pendingOrders.indexOf(i)),m=n.completedOrders.indexOf(i);"library"==n.view?-1==d||n.pendingOrders[d].color!=i.color?n.pendingOrders.push(i):n.pendingOrders.splice(d,1):"orders"==n.view?-1==m||n.completedOrders[m].color!=n.pendingOrders[s].color?(n.completedOrders.push(n.pendingOrders[s]),n.pendingOrders.splice(s,1)):n.completedOrders.splice(m,1):"myAccount"==n.view&&n.completedOrders.splice(s,1);break;default:throw Error("Website: action not found.")}return n}var d=a(109);const m={container:"_1_qFaP",to_center:"simFnF",to_right:"_2_1YX2",to_left:"_37jBnd",logo:"i73yPB",user_avatar:"_3jy4xa",section:"rHb801",main_section:"_29sVii",action_back:"_114_O6"};d.a.bind(null,m);var u=m,b=function(e){var t=e.isAccountView,a=e.logo,c=e.user,o=e.section,l=Object(n.useContext)(X),s=(Object(n.useContext)(Q),"".concat(u.action_back," ion-arrow-left-c"));return r.a.createElement("b",{className:u.container},r.a.createElement("b",{className:u.to_left},t?r.a.createElement("b",{className:s,onClick:function(){return l({type:"setView"})}}):null),r.a.createElement("b",{className:u.to_center},t?null:r.a.createElement("b",{className:u.logo},r.a.createElement("img",{src:a})),r.a.createElement("b",{className:t?u.main_section:u.section},o)),r.a.createElement("b",{className:u.to_right},t?null:r.a.createElement("b",{className:u.user_avatar,onClick:function(){return l({type:"setView",view:"myAccount"})}},r.a.createElement("img",{src:c.avatar}))))};const p={container:"KdujMB",details:"_2mYV2t",to_left:"c4xQkk",to_right:"fr0CRA",avatar:"_1bX-is",name:"_3YMZjE",email:"_2hwyhK",orders_number:"_1yAWPS"};d.a.bind(null,p);var _=p,y=function(e){var t=e.items,a=e.user;return r.a.createElement("b",{className:_.container},r.a.createElement("b",{className:_.details},r.a.createElement("b",{className:_.to_left},r.a.createElement("b",{className:_.avatar},r.a.createElement("img",{src:a.avatar}))),r.a.createElement("b",{className:_.to_right},r.a.createElement("b",{className:_.name},a.name),r.a.createElement("b",{className:_.email},a.email),r.a.createElement("b",{className:_.orders_number},"Taken books: ",t.length))))};const f={container:"_1ov5ha",tab:"_3HUMWo",tab_label:"_1P6MJ5",active:"_3S6C2l"};d.a.bind(null,f);var v=f,g=function(e){var t=e.items,a=e.activeIndex,c=Object(n.useContext)(X);Object(n.useContext)(Q);return r.a.createElement("b",{className:v.container},t.map((function(e,t){var n="".concat(v.tab," ").concat(a==t?v.active:"");return r.a.createElement("b",{key:t},r.a.createElement("b",{className:n,onClick:function(){c({type:"selectSection",sectionIndex:t}),c({type:"setView",view:e.view})}},r.a.createElement("b",{className:v.tab_label},e.label)))})))};const E={container:"_1UidYF",action_search:"_1Zr0Zb"};d.a.bind(null,E);var k=E,h=r.a.createElement("input",{type:"text",placeholder:"Type book name or author"}),O=function(){var e="".concat(k.action_search," ion-ios-search-strong");return r.a.createElement("b",{className:k.container},h,r.a.createElement("b",{className:e}))};const x={container:"_2wBI_i",category:"_2c3Hab",label:"u08Li_",icon:"JJXl85"};d.a.bind(null,x);var w=x,N=function(){var e=Object(n.useContext)(X),t=Object(n.useContext)(Q),a=t.categories,c=t.selectedCategoryIndex;return r.a.createElement("b",{className:w.container},a.map((function(t,a){var n=c==a?"0.5rem 2rem 5rem -2rem ".concat(t.color[1],", inset 0 0 16px rgba(255, 255, 255, 0.35)"):"inset 0 0 16px rgba(255, 255, 255, 0.35)",o="".concat(w.icon," ").concat(t.icon);return r.a.createElement("b",{key:a,className:w.category,style:{background:"linear-gradient(to bottom right, ".concat(t.color[0],", ").concat(t.color[1],")"),boxShadow:"".concat(n)},onClick:function(){return e({type:"selectCategory",categoryIndex:a})}},r.a.createElement("b",{className:o}),r.a.createElement("b",{className:w.label},t.label))})))};const j={container:"_3_AyM-",is_collapsed:"_2pd6m8",is_expanded:"AadZPd",action_order:"_2mcDfH",checked:"_16MYKC",is_managed:"_29NFyF",ordered:"_3h2DBa"};d.a.bind(null,j);var C=j,I=function(e){var t=e.bookIndex,a=e.isExpanded,c=(e.color,Object(n.useContext)(X)),o=Object(n.useContext)(Q),l=a?"".concat(C.container," ").concat(C.is_expanded):"".concat(C.container," ").concat(C.is_collapsed),s=o.view,i=o.displayedBooks,d=(o.selectedCategoryIndex,o.categories,o.pendingOrders),m=o.completedOrders,u=C.action_order,b="library"==s?"Take book":"orders"==s?"Confirm order":"myAccount"==s?"Return book":null;return"library"==s?-1!=d.indexOf(i[t])&&(u+=" ".concat(C.is_managed)):"orders"==s?-1!=m.indexOf(d[t])&&(u+=" ".concat(C.is_managed)):"myAccount"==s&&-1!=m.indexOf(d[t])&&(u+=" ".concat(C.is_managed)),b?r.a.createElement("b",{className:l},r.a.createElement("b",{className:u,onClick:function(){return c({type:"manageOrders",bookIndex:t})}},b,r.a.createElement("b",{className:"".concat(C.checked," ion-checkmark-round")}))):null};const A={container:"_1pbljh",is_expanded:"_2pHYre",star:"_2Q1pku"};d.a.bind(null,A);var S=A,B=function(e){for(var t=e.isExpanded,a=e.score,n=e.color,c=parseInt(a),o=parseFloat(parseFloat(a)-parseFloat(parseInt(a))),l=[],s=0;s<c;s++)l.push(r.a.createElement("b",{key:s,className:"".concat(S.star," ").concat(S.checked," ion-ios-star"),"data-color":n}));5-c>0&&0!=o&&l.push(r.a.createElement("b",{key:c,className:"".concat(S.star," ").concat(S.checked," ion-ios-star-half"),"data-color":n})),o=0!=o?1:0;for(var i=0;i<5-c-o;i++)l.push(r.a.createElement("b",{key:c+i+1,className:"".concat(S.star," ion-ios-star-outline"),"data-color":n}));var d=t?"".concat(S.container," ").concat(S.is_expanded):S.container;return r.a.createElement("b",{className:d},t?r.a.createElement("b",{className:S.stars},l):null,a)};const P={container:"_2qRM7f",is_collapsed:"wziEvY",moveToTop:"ryhU3L",is_expanded:"_2VzXSt",moveToBottom:"_2prioN",is_initial:"Jb1uY_",fadeInBottom:"LK0jGM",top_side:"_7wCUSQ",book_details:"_2aEUwd",book_image:"UAv9Zg",title:"_3WpO0L",author:"_3tW5Cb",content:"_26CDyW",to_right:"_1UEv7Q"};d.a.bind(null,P);var F=P;function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,c=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(s){r=!0,c=s}finally{try{n||null==l.return||l.return()}finally{if(r)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var M=function(e){var t=e.title,a=e.authors,c=e.ratings,o=e.bookImage,l=e.content,s=e.color,i=e.index,d=T(Object(n.useState)("initial"),2),m=d[0],u=d[1],b="book-".concat(i," ").concat(F.container);switch(m){case"expanded":b+=" ".concat(F.is_expanded);break;case"collpased":b+=" ".concat(F.is_collapsed);break;default:b+=" ".concat(F.is_initial)}return r.a.createElement("b",{className:b},r.a.createElement("style",null,".book-".concat(i," {\n\t\t\t\t--data_color: ").concat(s,";\n\t\t\t}")),r.a.createElement("b",{className:F.top_side},r.a.createElement("b",{className:F.book_image},r.a.createElement("img",{src:o})),r.a.createElement("b",{className:F.book_details},r.a.createElement("b",{className:F.title,onClick:function(e){return u("expanded"==m?"collpased":"expanded")}},t),r.a.createElement("b",{className:F.authors},a.map((function(e,t){return r.a.createElement("b",{key:t,className:F.author},e)}))),r.a.createElement(B,{isExpanded:"expanded"==m,score:c,color:s}))),r.a.createElement("b",{className:F.content},l),r.a.createElement(I,{bookIndex:i,isExpanded:"expanded"==m,color:s}))};const V={container:"_2Ivk5O",label:"_2F4f7R"};d.a.bind(null,V);var D=V,U=function(e){var t=e.items,a=(e.view,e.label);return r.a.createElement("b",{className:D.container},0==t.length?null:r.a.createElement("b",{className:D.label},a),0==t.length?null:t.map((function(e,t){return r.a.createElement(M,{key:t,title:e.title,authors:e.authors,ratings:e.ratings,bookImage:e.bookImage,content:e.content,color:e.color,index:t})})))};const Y={container:"_3fd0dh",container_shadow:"_Be9xf"};d.a.bind(null,Y);var J=Y,R=r.a.createElement(O,null),W=r.a.createElement(N,null),H=function(e){var t=e.view,a=e.books,n=e.label;return r.a.createElement("b",{className:J.container},r.a.createElement("b",{className:J.container_shadow,style:{opacity:"myAccount"==t?0:1}}),"myAccount"==t?null:r.a.createElement("b",null,R,"orders"==t?null:W),r.a.createElement(U,{items:a,view:t,label:n}))};const Z={application:"_1JIuUe",container:"_3NTN6f"};d.a.bind(null,Z);var K=Z;function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,c=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(s){r=!0,c=s}finally{try{n||null==l.return||l.return()}finally{if(r)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.d(t,"BooksState",(function(){return Q})),a.d(t,"BooksDispatch",(function(){return X}));var Q=r.a.createContext(null),X=r.a.createContext(null);t.default=function(e){var t=e.data,a={logo:t.logo,books:t.books,sections:t.sections,selectedSectionIndex:0,view:t.view,displayedBooks:[],user:t.user,pendingOrders:[],completedOrders:[],categories:t.categories,selectedCategoryIndex:null},c=L(Object(n.useReducer)(i,a),2),o=c[0],l=c[1],s=o.logo,d=o.user,m=o.selectedSectionIndex,u=o.view,p=o.sections,_=o.displayedBooks,f=o.pendingOrders,v=o.completedOrders,E=o.selectedCategoryIndex;return o?r.a.createElement(X.Provider,{value:l},r.a.createElement(Q.Provider,{value:o},r.a.createElement("b",{className:K.application},r.a.createElement("b",{className:K.container},r.a.createElement(b,{isAccountView:"myAccount"==u,user:d,logo:s,section:"myAccount"==u?"My Account":p[m].label}),"myAccount"==u?r.a.createElement(y,{items:v,user:d}):r.a.createElement(g,{items:p,activeIndex:m}),r.a.createElement(H,{view:u,books:"myAccount"==u?v:"orders"==u?f:_,label:null==E?"":"myAccount"==u?"Taken Books":"Results"}))))):null}}}]);